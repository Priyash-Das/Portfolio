const CONFIG={CUBE_ROTATION_TIME:600,CUBE_ACTIVE_SCALE:1.02},CubeController=(()=>{const e={home:{x:0,y:0},about:{x:0,y:-90},skills:{x:0,y:-180},experience:{x:0,y:-270},projects:{x:-90,y:0},contact:{x:90,y:0}};let t=!1;const n=document.getElementById("cube"),o=document.querySelectorAll(".nav-btn");if(n)return{rotate:function(s){t||(t=!0,document.querySelectorAll(".cube-face").forEach((e=>e.classList.remove("active-face"))),document.querySelector(`.face-${s}`)?.classList.add("active-face"),n.style.transform=`rotateX(${e[s].x}deg) rotateY(${e[s].y}deg) scale(${CONFIG.CUBE_ACTIVE_SCALE})`,o.forEach((e=>e.classList.remove("active"))),document.querySelector(`[onclick="rotateCube('${s}')"]`)?.classList.add("active"),setTimeout((()=>{n.style.transform=`rotateX(${e[s].x}deg) rotateY(${e[s].y}deg) scale(1)`,t=!1}),CONFIG.CUBE_ROTATION_TIME))}}})();function rotateCube(e){CubeController.rotate(e)}function initPreloader(){const e=document.getElementById("preloader"),t=document.getElementById("status-text"),n=document.querySelector(".portfolio-container");if(!e||!t||!n)return;const o=["INITIATING CORE SYSTEMS...","COMPILING PIXEL SHADERS...","DECRYPTING VIBE MATRIX...","AUTHENTICATION COMPLETE","SYSTEM ALMOST READY","Let's Guuu !!"],s=e=>new Promise((t=>setTimeout(t,e)));!async function(){for(let a=0;a<o.length;a++)t.textContent=o[a],t.classList.add("typing"),await s(400),a===o.length-1?(t.classList.remove("typing"),t.style.borderRight="none",t.style.color="#22d3ee",await s(800),e.classList.add("hidden"),setTimeout((()=>{n.style.opacity="1";const e=document.getElementById("resume-overlay");e&&e.classList.remove("visible")}),50)):(t.classList.remove("typing"),await s(100))}()}function createGlassShardField(){const e=document.getElementById("glass-void");if(!e)return;const t=(e,t)=>Math.random()*(t-e)+e;for(let n=0;n<35;n++){const n=document.createElement("div");n.classList.add("shard-wrap");const o=document.createElement("div");o.classList.add("glass-shard"),Math.random()>.85&&n.classList.add("neon-shard");const s=`${t(0,50)}% 0%`,a=`100% ${t(0,50)}%`,r=`${t(50,100)}% 100%`,i=`0% ${t(50,100)}%`;o.style.setProperty("--p1",s),o.style.setProperty("--p2",a),o.style.setProperty("--p3",r),o.style.setProperty("--p4",i);const d=t(50,300),l=t(50,300);n.style.width=`${d}px`,n.style.height=`${l}px`,n.style.left=`${t(-10,100)}%`,n.style.top=`${t(-10,100)}%`,n.style.setProperty("--x","0px"),n.style.setProperty("--y","0px"),n.style.setProperty("--z-start",`${t(-800,-200)}px`),n.style.setProperty("--x-end",`${t(-200,200)}px`),n.style.setProperty("--y-end",`${t(-200,200)}px`),n.style.setProperty("--z-end",`${t(-200,200)}px`);const c=t(25,45);n.style.animationDuration=`${c}s`,n.style.animationDelay=`-${t(0,c)}s`,n.appendChild(o),e.appendChild(n)}for(let n=0;n<40;n++){const n=document.createElement("div");n.classList.add("debris");const o=t(1,4);n.style.width=`${o}px`,n.style.height=`${o}px`,n.style.left=`${t(0,100)}%`,n.style.top=`${t(0,100)}%`,n.style.setProperty("--mx",`${t(-50,50)}px`),n.style.setProperty("--my",`${t(-50,50)}px`);const s=t(5,15);n.style.animationDuration=`${s}s`,n.style.animationDelay=`-${t(0,s)}s`,e.appendChild(n)}}function initAmbientParticles(){const e=document.getElementById("particles");if(!e)return;const t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const n=Array.from({length:50},(()=>({x:Math.random()*e.width,y:Math.random()*e.height,size:5*Math.random()+2,speedX:2*Math.random()-1,speedY:2*Math.random()-1,color:`rgba(110, 245, 232, ${.5*Math.random()+.2})`})));function o(){t.clearRect(0,0,e.width,e.height),n.forEach((n=>{t.beginPath(),t.arc(n.x,n.y,n.size,0,2*Math.PI),t.fillStyle=n.color,t.fill(),n.x+=n.speedX,n.y+=n.speedY,(n.x<0||n.x>e.width)&&(n.speedX*=-1),(n.y<0||n.y>e.height)&&(n.speedY*=-1)})),requestAnimationFrame(o)}window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight})),window.addEventListener("load",(()=>{rotateCube("home"),o()}))}function initResumeDownload(){const e=["INITIATING CONNECTION...","ACCESSING SECURE FILES...","DECRYPTING RESUME.PDF...","DOWNLOAD IMMINENT..."],t=e=>new Promise((t=>setTimeout(t,e))),n=document.getElementById("resume-overlay"),o=document.getElementById("glitch-text"),s=document.getElementById("progress-bar");[document.getElementById("resume-download-btn"),document.getElementById("resume-download-btn-m")].forEach((a=>{a&&a.addEventListener("click",(r=>{r.preventDefault(),async function(a){if(!n||!o||!s)return;n.classList.add("visible"),await t(100);for(let n=0;n<e.length;n++){o.textContent=e[n],o.dataset.text=e[n];const a=(n+1)/e.length*100;s.style.width=`${a}%`,await t(750)}const r=document.createElement("a");r.href=a,r.setAttribute("download","Priyash-Resume.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r),o.textContent="SENT! CHECK YOUR DOWNLOADS, FAM.",o.dataset.text="SENT! CHECK YOUR DOWNLOADS, FAM.",await t(2e3),n.classList.remove("visible"),await t(500),s.style.width="0%",o.textContent="",o.dataset.text=""}(a.href)}))}))}document.addEventListener("DOMContentLoaded",(()=>{initPreloader(),createGlassShardField(),initResumeDownload()})),initAmbientParticles();
